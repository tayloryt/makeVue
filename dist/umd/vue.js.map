{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/index.js","../../src/state.js","../../src/init.js","../../src/index.js"],"sourcesContent":["//判断是否数组\nexport function isObject(data) {\n    return Object.prototype.toString.call(data) === '[object Object]'\n}","/**\n * 观测数据\n * @param {data} \n */\nimport { isObject } from '../utils/index'\nclass Observe{\n    constructor(value) {\n        this.walk(value)\n    }\n    walk(value) {\n        Object.keys(value).forEach(key => {\n            defineReactive(value, key, value[key])\n        })\n    }\n}\nfunction defineReactive(data, key, value) {\n    observe(value)\n    Object.defineProperty(data, key, {\n        get() {\n            return value\n        },\n        set(newValue) {\n            if (newValue === value) return;\n            observe(newValue)\n            value = newValue\n        }\n    })\n}\nexport function observe(data) {\n    if (!isObject(data)) return\n    new Observe(data)\n}","import { observe } from './observe/index'\nexport function initState(vm) {\n    if (vm.$options.props) {\n        initProps(vm)\n    }\n    if (vm.$options.methods) {\n        initMethods(vm)\n    }\n    if (vm.$options.data) {\n        initData(vm)\n    }\n    if (vm.$options.computed) {\n        initComputed(vm)\n    }\n    if (vm.$options.watch) {\n        initWatch(vm)\n    }\n}\nfunction initProps(vm) {\n\n}\nfunction initMethods(vm) {\n\n}\nfunction initData(vm) {\n    let data = vm.$options.data;\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data\n    observe(data)\n}\nfunction initComputed(vm) { }\nfunction initWatch(vm) { }\n","import {initState} from './state'\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        const vm = this\n        vm.$options = options\n        initState(vm)\n    }\n}","/**\n * vue 核心代码\n */\nimport {initMixin} from './init'\nclass Vue{\n    constructor(options) {\n        this._init(options)\n    }\n}\ninitMixin(Vue)\nexport default Vue"],"names":["isObject","data","Object","prototype","toString","call","Observe","value","walk","keys","forEach","key","defineReactive","observe","defineProperty","get","set","newValue","initState","vm","$options","props","methods","initData","computed","watch","_data","initMixin","Vue","_init","options"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;EACO,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;EAC3B,SAAOC,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BJ,IAA/B,MAAyC,iBAAhD;EACH;;MCEKK;EACF,mBAAYC,KAAZ,EAAmB;EAAA;;EACf,SAAKC,IAAL,CAAUD,KAAV;EACH;;;;2BACIA,OAAO;EACRL,MAAAA,MAAM,CAACO,IAAP,CAAYF,KAAZ,EAAmBG,OAAnB,CAA2B,UAAAC,GAAG,EAAI;EAC9BC,QAAAA,cAAc,CAACL,KAAD,EAAQI,GAAR,EAAaJ,KAAK,CAACI,GAAD,CAAlB,CAAd;EACH,OAFD;EAGH;;;;;;EAEL,SAASC,cAAT,CAAwBX,IAAxB,EAA8BU,GAA9B,EAAmCJ,KAAnC,EAA0C;EACtCM,EAAAA,OAAO,CAACN,KAAD,CAAP;EACAL,EAAAA,MAAM,CAACY,cAAP,CAAsBb,IAAtB,EAA4BU,GAA5B,EAAiC;EAC7BI,IAAAA,GAD6B,iBACvB;EACF,aAAOR,KAAP;EACH,KAH4B;EAI7BS,IAAAA,GAJ6B,eAIzBC,QAJyB,EAIf;EACV,UAAIA,QAAQ,KAAKV,KAAjB,EAAwB;EACxBM,MAAAA,OAAO,CAACI,QAAD,CAAP;EACAV,MAAAA,KAAK,GAAGU,QAAR;EACH;EAR4B,GAAjC;EAUH;;EACM,SAASJ,OAAT,CAAiBZ,IAAjB,EAAuB;EAC1B,MAAI,CAACD,QAAQ,CAACC,IAAD,CAAb,EAAqB;EACrB,MAAIK,OAAJ,CAAYL,IAAZ;EACH;;EC9BM,SAASiB,SAAT,CAAmBC,EAAnB,EAAuB;EAC1B,MAAIA,EAAE,CAACC,QAAH,CAAYC,KAAhB,EAAuB;;EAGvB,MAAIF,EAAE,CAACC,QAAH,CAAYE,OAAhB,EAAyB;;EAGzB,MAAIH,EAAE,CAACC,QAAH,CAAYnB,IAAhB,EAAsB;EAClBsB,IAAAA,QAAQ,CAACJ,EAAD,CAAR;EACH;;EACD,MAAIA,EAAE,CAACC,QAAH,CAAYI,QAAhB,EAA0B;;EAG1B,MAAIL,EAAE,CAACC,QAAH,CAAYK,KAAhB,EAAuB;EAG1B;;EAOD,SAASF,QAAT,CAAkBJ,EAAlB,EAAsB;EAClB,MAAIlB,IAAI,GAAGkB,EAAE,CAACC,QAAH,CAAYnB,IAAvB;EACAA,EAAAA,IAAI,GAAGkB,EAAE,CAACO,KAAH,GAAW,OAAOzB,IAAP,KAAgB,UAAhB,GAA6BA,IAAI,CAACI,IAAL,CAAUc,EAAV,CAA7B,GAA6ClB,IAA/D;EACAY,EAAAA,OAAO,CAACZ,IAAD,CAAP;EACH;;EC3BM,SAAS0B,SAAT,CAAmBC,GAAnB,EAAwB;EAC3BA,EAAAA,GAAG,CAACzB,SAAJ,CAAc0B,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACrC,QAAMX,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACC,QAAH,GAAcU,OAAd;EACAZ,IAAAA,SAAS,CAACC,EAAD,CAAT;EACH,GAJD;EAKH;;MCHKS,MACF,aAAYE,OAAZ,EAAqB;EAAA;;EACjB,OAAKD,KAAL,CAAWC,OAAX;EACH;;EAELH,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}