{"version":3,"file":"vue.js","sources":["../../src/utils/index.js","../../src/observe/observeArray.js","../../src/observe/dep.js","../../src/observe/index.js","../../src/state.js","../../src/complier/parser-html.js","../../src/complier/generate.js","../../src/complier/index.js","../../src/observe/watcher.js","../../src/vdom/patch.js","../../src/lifecycle.js","../../src/init.js","../../src/vdom/create-element.js","../../src/render.js","../../src/initOptionsAPI/index.js","../../src/index.js"],"sourcesContent":["//判断是否数组\nexport function isObject(data) {\n    return typeof data === 'object' && data !==null\n}\nexport function def(data, key, value) {\n    Object.defineProperty(data, key, {\n        enumerable: false,\n        configurable: false,\n        value\n    })\n}\nexport function proxy(vm,source,key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[source][key]\n        },\n        set(newVal) {\n            vm[source][key] = newVal\n        }\n    })\n}\nfunction mergeHook(parentVal, childVal) {\n    if (childVal) {\n        if (parentVal) {\n            return parentVal.concat(childVal)\n        } else {\n            return [childVal]\n        }\n    } else {\n        return [parentVal]\n    }\n}\nconst LIFECYCLE_HOOKS = ['beforeCreate', 'created', 'beforeMount', 'Mounted', 'beforeUpdate', 'updated', 'beforeDestroy', 'destroyed']\nlet strats = {}\nLIFECYCLE_HOOKS.forEach(hook => {\n    strats[hook] = mergeHook\n})\nexport function mergeOptions(parent, child) {\n    const options = {}\n    for (let key in parent) {\n       merge(key)\n    }\n    for (let key in child) {\n        merge(key)\n    }\n    function merge(key) {\n        if (strats[key]) {\n            return options[key]=strats[key](parent[key],child[key])\n        }\n        if (typeof parent[key] === 'object' && typeof child[key] === 'object') {\n            options[key] = {\n                ...parent[key],\n                ...child[key]\n            }\n        } else if (child[key] === undefined) {\n            options[key] = parent[key]\n        } else {\n            options[key] = child[key]\n        }\n    }\n    return options\n}","let oldArrayPrototype = Array.prototype;\nexport let arrayMethods = Object.create(oldArrayPrototype)\nconst METHODS = [\n    'push',\n    'splice',\n    'unshift',\n    'pop',\n    'shift',\n    'reverse',\n    'sort'\n]\nMETHODS.forEach(method => {\n    arrayMethods[method] = function (...args) {\n        oldArrayPrototype[method].call(this, ...args);\n        let insertData;\n        let ob = this.__ob__\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                insertData = args\n                break;\n            case 'splice':\n                insertData = args.slice(2)\n                break;\n        }\n        if(insertData) ob.observeArray(insertData)\n    }\n})","let id = 0;\nexport class Dep{\n    constructor() {\n        this.id = id++\n        this.subs = []\n    }\n    depend() {\n        this.subs.push(Dep.target)\n    }\n    notify() {\n        this.subs.forEach(watcher=>watcher.update())\n    }\n}\nlet stack = []\nexport function pushTarget(watcher) {\n    Dep.target = watcher;\n    stack.push(watcher)\n}\nexport function popTarget() {\n    stack.pop()\n    Dep.target = stack[stack.length - 1]\n}","/**\n * 观测数据\n * @param {*}data \n */\nimport { isObject, def } from '../utils/index'\nimport { arrayMethods } from './observeArray'\nimport {Dep} from './dep'\nclass Observe{\n    constructor(value) {\n        if (Array.isArray(value)) {\n            def(value, '__ob__', this)\n            value.__proto__ = arrayMethods\n            this.observeArray(value)\n        } else {\n            this.walk(value)\n        }\n       \n    }\n    observeArray(value) {\n        for (let i = 0; i < value.length; i++){\n            observe(value[i])\n        }\n    }\n    walk(value) {\n        Object.keys(value).forEach(key => {\n            defineReactive(value, key, value[key])\n        })\n    }\n}\nfunction defineReactive(data, key, value) {\n    observe(value)\n    const dep = new Dep()\n    Object.defineProperty(data, key, {\n        get() {\n            if (Dep.target) {\n                dep.depend()\n            }\n            return value\n        },\n        set(newValue) {\n            if (newValue === value) return;\n            observe(newValue)\n            value = newValue\n            dep.notify()\n        }\n    })\n}\nexport function observe(data) {\n    if (!isObject(data)) return\n    new Observe(data)\n}","import { observe } from './observe/index'\nimport {proxy} from './utils/index'\nexport function initState(vm) {\n    if (vm.$options.props) {\n        initProps(vm)\n    }\n    if (vm.$options.methods) {\n        initMethods(vm)\n    }\n    if (vm.$options.data) {\n        initData(vm)\n    }\n    if (vm.$options.computed) {\n        initComputed(vm)\n    }\n    if (vm.$options.watch) {\n        initWatch(vm)\n    }\n}\nfunction initProps(vm) {\n\n}\nfunction initMethods(vm) {\n\n}\nfunction initData(vm) {\n    let data = vm.$options.data;\n    data = vm._data = typeof data === 'function' ? data.call(vm) : data\n    for (let key in data) {\n        proxy(vm,'_data',key)\n    }\n    observe(data)\n}\nfunction initComputed(vm) { }\nfunction initWatch(vm) { }\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\nconst startTagClose = /^\\s*(\\/?)>/;\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\nlet root = null;\nconst stack = [];\nconst TAG_TYPE = 1;\nconst TEXT_TYPE = 3;\nlet currentParent;\nfunction createAstElement(tagName, attrs) {\n    return {\n        tag:tagName,\n        parent: null,\n        children: [],\n        attrs,\n        nodeType:TAG_TYPE\n    }\n}\nfunction end(tagName) {\n    let element = stack.pop()\n    if (element.tag !== tagName) {\n        throw new Error('html error')\n    }\n    currentParent = stack[stack.length - 1]\n    if (currentParent) {\n        currentParent.children.push(element)\n        element.parent = currentParent.tag\n    }\n}\nfunction chars(text) {\n    text = text.replace(/\\s/g,'')\n    let element = {\n        nodeType: TEXT_TYPE,\n        text\n    }\n    if (text && currentParent) {\n       currentParent.children.push(element) \n    }\n}\nfunction start(tagName, attrs) {\n    const element = createAstElement(tagName,attrs)\n    if (!root) {\n        root = element\n    }\n    currentParent = element\n    stack.push(element)\n}\nexport function parseHtml(html) {\n    while (html) {\n        let textEnd = html.indexOf('<')\n        if (textEnd === 0) {\n            let startTagMatch = parseStartTag()\n            if (startTagMatch) {\n                start(startTagMatch.tagName,startTagMatch.attrs)\n            continue\n            }\n            let endTagMatch = html.match(endTag)\n            if (endTagMatch) {\n                advance(endTagMatch[0].length)\n                end(endTagMatch[1])\n                continue\n            }\n        }\n        let text;\n        if (textEnd >= 0) {\n            text = html.substring(0, textEnd)\n        }\n        if (text) {\n            advance(text.length) \n            chars(text)\n        }\n    }\n    function advance(n) {\n        html = html.substring(n)\n    }\n    function parseStartTag() {\n        let start = html.match(startTagOpen);\n        if (start) {\n            const match = {\n                tagName: start[1],\n                attrs:[]\n            }\n            advance(start[0].length)\n          \n            let end, attr;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({\n                    name: attr[1],\n                    value:attr[3] || attr[4] || attr[5]\n                })\n                advance(attr[0].length)\n            }\n            if (end) {\n                advance(end[0].length)\n            }\n            return match\n        }\n    }\n    return root\n}","const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g\nfunction genProps(attrs) {\n    let str = '';\n    for (let i = 0; i < attrs.length; i++){\n        if (attrs[i].name === 'style') {\n            let obj = {};\n            attrs[i].value.split(';').forEach(item=>{\n                let [key, value] = item.split(':');\n                let styleName;\n                if (key.includes('-')) {\n                    const [classKey,name] = key.split('-')\n                    let replaceKey = name.substring(0, 1).toLocaleUpperCase()\n                    styleName = classKey + replaceKey+name.slice(1)\n                } else {\n                    styleName = key\n                }\n                obj[styleName] = value\n            });\n            attrs[i].value  = obj\n        } \n        str +=`${attrs[i].name}:${JSON.stringify(attrs[i].value)},`   \n    }\n   return `{${str.slice(0,-1)}}`\n}\nfunction genChildren(el) {\n    let children = el.children\n    if (children && children.length) {\n       return `${children.map(c => \n            gen(c)\n        ).join(',')}`\n    } else {\n        return false\n    }\n}\nexport function generate(el) {\n    return `_c(\"${el.tag}\",${el.attrs.length?genProps(el.attrs):'undefined'},${genChildren(el)})`\n}\nfunction gen(el) {\n    if (el.nodeType === 1) {\n       return generate(el)\n    } else {\n        let lastIndex = defaultTagRE.lastIndex = 0\n        let tokens = []\n        let match, index;\n        let text = el.text\n        while (match = defaultTagRE.exec(text)) {\n             index = match.index;\n            if (index > lastIndex) {\n                tokens.push(JSON.stringify(text.slice(lastIndex,index)))\n            }\n            tokens.push(`_s(${match[1].trim()})`)\n            lastIndex = index + match[0].length\n        }\n        if (lastIndex<text.length) {\n            tokens.push(JSON.stringify(text.slice(lastIndex)))\n        }\n        return `_v(${tokens.join('+')})`\n   }\n}","import { parseHtml } from './parser-html'\nimport {generate} from './generate'\nexport function compilationToRender(template) {\n    let root = parseHtml(template)\n    let renderData = generate(root)\n    let renderFn = new Function(`with(this){return ${renderData}}`)\n    return renderFn\n}","import {pushTarget,popTarget} from './dep'\nlet id = 0;\nclass Watcher{\n    constructor(vm,getter,cb,options) {\n        this.vm = vm;\n        this.getter = getter;\n        this.cb = cb;\n        this.id = id++\n        this.options = options\n        this.get();   \n    }\n    get() {\n        pushTarget(this)\n        this.getter()\n        popTarget()\n    }\n    update() {\n        this.get()\n    }\n}\nexport default Watcher","export function patch(oldVnode,vnode) {\n    const isRealNode = oldVnode.nodeType\n    if (isRealNode) {\n        const oldElm = oldVnode;\n        const parentElm = oldVnode.parentNode;\n        let el = createElm(vnode);\n        parentElm.insertBefore(el, oldElm.nextSibling)\n        parentElm.removeChild(oldElm)\n        return el\n    }\n}\nfunction createElm(vnode){\n    let { tag, data, children, key, text } = vnode\n    if (typeof tag === 'string') {\n        vnode.el = document.createElement(tag);\n        updateProperties(vnode)\n        children.forEach(child => {\n            return vnode.el.appendChild(createElm(child))\n        });\n    } else {\n        //虚拟dom映射真实dom\n       vnode.el = document.createTextNode(text)\n    }\n    return vnode.el;\n}\nfunction updateProperties(vnode) {\n    let propsData = vnode.data;\n    let el = vnode.el;\n    for (let key in propsData) {\n        if (key === 'class') {\n            el.className = propsData[key]\n        } else if (key === 'style') {\n            for (let styleName in propsData[key]) {\n                el.style[styleName] = propsData[key][styleName]\n            }\n        } else {\n            el.setAttribute(key,propsData[key])\n        }\n    }\n}\n","import Watcher from './observe/watcher'\nimport {patch} from './vdom/patch'\nexport function mountComponent(vm, el) {\n    const options = vm.$options;\n    vm.$el = el;\n    callHook(vm,'beforeMount')\n    let updateComponent = () => {\n        vm._update(vm._render())\n    }\n    new Watcher(vm, updateComponent, () => { }, true)\n    callHook(vm,'mounted')\n}\nexport function lifecycleMixin(Vue) {\n    Vue.prototype._update = function (vnode) {\n        const vm = this;\n        vm.$el = patch(vm.$el,vnode)//虚拟节点创建出真实节点替换掉原有$el\n    }\n}\nexport function callHook(vm,hook) {\n    const handlers = vm.$options[hook];\n    if (handlers) {\n        for (let i = 0; i < handlers.length; i++){\n            handlers[i].call(vm)\n        }\n    }\n}","import { initState } from './state'\nimport { compilationToRender } from './complier/index'\nimport { mountComponent,callHook } from './lifecycle.js'\nimport {mergeOptions} from './utils/index'\nexport function initMixin(Vue) {\n    Vue.prototype._init = function (options) {\n        const vm = this\n        vm.$options = mergeOptions(vm.constructor.options, options)\n        callHook(vm,'beforeCreate')\n        initState(vm)\n        callHook(vm,'created')\n    }\n    Vue.prototype.$mount = function (el) {\n        const vm = this;\n        const options = vm.$options;\n        el = document.querySelector(el)\n        if (!options.render) {\n            let template = options.template\n            if (!template && el) {\n                template = el.outerHTML;\n                let render = compilationToRender(template)\n                options.render = render\n            }\n        }\n        mountComponent(vm,el)\n    }\n}","export function createElement(tag,data={},...children) {\n    let key = data.key\n    if (key) {\n        delete data.key\n    }\n    return vNode(tag,data,key,children,undefined)\n}\nexport function createTextNode(text) {\n    return vNode(undefined,undefined,undefined,undefined,text)\n}\nfunction vNode(tag,data,key,children,text) {\n    return {\n        tag,\n        data,\n        key,\n        children,\n        text\n    }\n}","import {createElement,createTextNode} from './vdom/create-element'\nexport function renderMixin(Vue) {\n    Vue.prototype._c = function () {\n        return createElement(...arguments)\n    }\n    Vue.prototype._v = function (text) {\n        return createTextNode(text)\n    }\n    Vue.prototype._s = function (val) {\n        return val === null?'':(typeof val === 'object'?JSON.stringify(val):val)\n    }\n    Vue.prototype._render = function () {\n        const vm = this;\n        const { render } = vm.$options;\n       return render.call(vm)\n    }\n}","import {mergeOptions} from '../utils/index'\nexport function initOptionsAPI(Vue) {\n    Vue.options = {}\n    Vue.mixin = function (mixin) {\n        this.options = mergeOptions(this.options, mixin)\n        console.log(this.options)\n    }\n}","/**\n * vue 核心代码\n */\nimport { initMixin } from './init'\nimport { renderMixin } from './render'\nimport { lifecycleMixin } from './lifecycle'\nimport {initOptionsAPI} from './initOptionsAPI/index'\nclass Vue{\n    constructor(options) {\n        this._init(options)\n        if (options.el) {\n            this.$mount(options.el)\n        }\n    }\n}\ninitMixin(Vue)\nrenderMixin(Vue)\nlifecycleMixin(Vue)\ninitOptionsAPI(Vue)\nexport default Vue"],"names":["isObject","data","def","key","value","Object","defineProperty","enumerable","configurable","proxy","vm","source","get","set","newVal","mergeHook","parentVal","childVal","concat","LIFECYCLE_HOOKS","strats","forEach","hook","mergeOptions","parent","child","options","merge","undefined","oldArrayPrototype","Array","prototype","arrayMethods","create","METHODS","method","args","call","insertData","ob","__ob__","slice","observeArray","id","Dep","subs","push","target","watcher","update","stack","pushTarget","popTarget","pop","length","Observe","isArray","__proto__","walk","i","observe","keys","defineReactive","dep","depend","newValue","notify","initState","$options","props","methods","initData","computed","watch","_data","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","root","TAG_TYPE","TEXT_TYPE","currentParent","createAstElement","tagName","attrs","tag","children","nodeType","end","element","Error","chars","text","replace","start","parseHtml","html","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","match","advance","substring","n","attr","name","defaultTagRE","genProps","str","obj","split","item","styleName","includes","classKey","replaceKey","toLocaleUpperCase","JSON","stringify","genChildren","el","map","c","gen","join","generate","lastIndex","tokens","index","exec","trim","compilationToRender","template","renderData","renderFn","Function","Watcher","getter","cb","patch","oldVnode","vnode","isRealNode","oldElm","parentElm","parentNode","createElm","insertBefore","nextSibling","removeChild","document","createElement","updateProperties","appendChild","createTextNode","propsData","className","style","setAttribute","mountComponent","$el","callHook","updateComponent","_update","_render","lifecycleMixin","Vue","handlers","initMixin","_init","constructor","$mount","querySelector","render","outerHTML","vNode","renderMixin","_c","arguments","_v","_s","val","initOptionsAPI","mixin","console","log"],"mappings":"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"}